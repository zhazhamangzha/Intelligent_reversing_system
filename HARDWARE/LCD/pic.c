#include "CONFIG.h"	 

//图片字模数组，由字模软件生成
unsigned char QR_code[1024] = {
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0XE7,0X11,0X80,0XC3,0XE3,0X8F,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X40,0X24,0X61,0XBE,0XF8,0XFD,0X88,0X04,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X40,0X24,0X61,0XBE,0XF8,0XFD,0X88,0X04,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X24,0X60,0X48,0X27,0XF1,0XC9,0XE4,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X24,0X63,0XC8,0X1B,0XED,0X89,0XE4,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X24,0X63,0XC8,0X1B,0XED,0X89,0XE4,0X01,0XFC,0X60,0X06,0X00,0X00,0X30,0X00,
0X4F,0X27,0X1C,0X49,0XDC,0XF1,0X89,0XE4,0X03,0XFC,0X60,0X06,0X00,0X00,0X30,0X00,
0X40,0X20,0XE3,0XB6,0X24,0X73,0XC8,0X04,0X07,0X80,0X61,0X86,0X00,0X00,0X30,0X00,
0X40,0X20,0XE3,0XB6,0X24,0X73,0XC8,0X04,0X0E,0X00,0X01,0X86,0X00,0X00,0X30,0X00,
0X7F,0XE4,0X92,0X49,0X24,0X92,0X4F,0XFC,0X0E,0X00,0X67,0XE7,0XF0,0XC3,0X3F,0X80,
0X00,0X07,0X73,0XB8,0X23,0X6F,0X80,0X00,0X0C,0X00,0X67,0XE7,0XF8,0XC3,0X3F,0XC0,
0X00,0X07,0X73,0XB8,0X23,0X6F,0X80,0X00,0X0C,0X7C,0X61,0X87,0X18,0XC3,0X38,0XE0,
0X39,0X3B,0X9C,0X07,0X3B,0X9C,0X49,0XFC,0X0C,0X7C,0X61,0X86,0X18,0XC3,0X30,0X60,
0X08,0X00,0X0C,0X37,0X38,0X10,0X78,0XE4,0X0C,0X0C,0X61,0X86,0X18,0XC3,0X30,0X60,
0X08,0X00,0X0C,0X37,0X38,0X10,0X78,0XE4,0X0E,0X0C,0X61,0X86,0X18,0XC3,0X30,0X60,
0X38,0XE4,0XFC,0X78,0XDF,0X0C,0X37,0X3C,0X07,0X0C,0X61,0X86,0X18,0XE7,0X38,0XE0,
0X71,0XC4,0X70,0X08,0X27,0XFC,0X40,0X00,0X03,0XFC,0X61,0XF6,0X18,0XFF,0X3F,0XC0,
0X71,0XC4,0X70,0X08,0X27,0XFC,0X40,0X00,0X01,0XFC,0X60,0XF6,0X18,0X7E,0X3F,0X80,
0X78,0X20,0X93,0XC1,0XDC,0X0D,0XC8,0XC0,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0X03,0XE2,0X38,0XFC,0X6D,0XF0,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X07,0X03,0XE2,0X38,0XFC,0X6D,0XF0,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0X3C,0X70,0X00,0XDC,0X81,0XC8,0X1C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X3F,0XDF,0XEF,0XB7,0X07,0XEE,0X4F,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X3F,0XDF,0XEF,0XB7,0X07,0XEE,0X4F,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X76,0XFF,0XED,0XCF,0X3B,0X0D,0X8E,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X71,0X1C,0X82,0X37,0XC7,0X12,0X48,0X24,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X71,0X1C,0X82,0X37,0XC7,0X12,0X48,0X24,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0XFB,0X73,0XC0,0XE0,0X9C,0X01,0X3C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X36,0X04,0XEC,0X77,0X07,0X80,0X76,0X04,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X36,0X04,0XEC,0X77,0X07,0X80,0X76,0X04,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X41,0XE0,0X7E,0X07,0X1C,0X91,0XF8,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X09,0X04,0X6D,0XFE,0XE4,0X90,0X78,0XDC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X09,0X04,0X6D,0XFE,0XE4,0X90,0X78,0XDC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X0E,0XE3,0X81,0XF8,0XC7,0X12,0X37,0XDC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X70,0XDB,0XEE,0X09,0XFF,0X6F,0XF8,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X70,0XDB,0XEE,0X09,0XFF,0X6F,0XF8,0X00,0X00,0X00,0X00,0X60,0X00,0X00,0X00,0X00,
0X76,0XE4,0X12,0X78,0X07,0X6D,0XF8,0XD8,0X00,0X00,0X00,0XE0,0X00,0X00,0X00,0X00,
0X41,0XC7,0X82,0X7F,0X24,0X1E,0X08,0X04,0X00,0X00,0X03,0XE0,0X00,0X00,0X00,0X00,
0X41,0XC7,0X82,0X7F,0X24,0X1E,0X08,0X04,0X00,0X00,0X0F,0XE0,0X00,0X00,0X00,0X00,
0X70,0XE7,0X12,0X39,0XE0,0X9C,0X36,0X3C,0X00,0X00,0X1F,0XE0,0X00,0X00,0X00,0X00,
0X46,0XD8,0X8E,0X0F,0XC7,0XEE,0X78,0X04,0X00,0X00,0X7F,0XFF,0XFF,0XF8,0X00,0X00,
0X46,0XD8,0X8E,0X0F,0XC7,0XEE,0X78,0X04,0X00,0X00,0X7F,0XFF,0XFF,0XF8,0X00,0X00,
0X77,0X3C,0X00,0X36,0XDB,0X7D,0XB6,0XC4,0X00,0X00,0X7F,0XFF,0XFF,0XF8,0X00,0X00,
0X06,0XC3,0X9C,0X07,0X38,0X7F,0XB0,0XFC,0X00,0X00,0X1F,0XE0,0X00,0X00,0X00,0X00,
0X06,0XC3,0X9C,0X07,0X38,0X7F,0XB0,0XFC,0X00,0X00,0X0F,0XE0,0X00,0X00,0X00,0X00,
0X40,0X38,0XF0,0X3E,0XC3,0X7C,0X07,0X3C,0X00,0X00,0X03,0XE0,0X00,0X00,0X00,0X00,
0X3E,0XC0,0XEF,0XB7,0XDB,0X1D,0XBE,0X00,0X00,0X00,0X00,0XE0,0X00,0X00,0X00,0X00,
0X3E,0XC0,0XEF,0XB7,0XDB,0X1D,0XBE,0X00,0X00,0X00,0X00,0X60,0X00,0X00,0X00,0X00,
0X48,0X3C,0X92,0X07,0X23,0X6C,0X7F,0X1C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X07,0XF3,0X87,0XDC,0X1C,0X41,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X07,0XF3,0X87,0XDC,0X1C,0X41,0XFC,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0XE4,0X0F,0XBF,0X23,0X02,0X49,0XE4,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X40,0X20,0X6E,0X09,0X24,0X7E,0X41,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X40,0X20,0X6E,0X09,0X24,0X7E,0X41,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X24,0X12,0X0E,0XE0,0X12,0X7F,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X20,0X8C,0X46,0XC7,0X1F,0XB1,0X04,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X20,0X8C,0X46,0XC7,0X1F,0XB1,0X04,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X4F,0X27,0X0D,0XB0,0XE7,0X91,0XC7,0X24,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X40,0X27,0X70,0X77,0XC7,0X8D,0XF6,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X40,0X27,0X70,0X77,0XC7,0X8D,0XF6,0X18,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X7F,0XE3,0X10,0X08,0XDF,0X7D,0XFF,0X1C,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,0X00,
};

//清空GDRAM,总共就是写1KB的0x00。
void clnGDR_12864(void)
{
	u8 j,k;
	write_12864com(0x34);//开启扩充指令集

  	for(j=0;j<32;j++)
  	{
		write_12864com(0x80+j);//写Y坐标
    	write_12864com(0x80);//写X坐标

    	for(k=0;k<32;k++)//写一整行数据
    	{
    		write_12864data( 0x00 );
    	}
  	}
  	write_12864com(0x30);//开启基本指令集
}

//图片显示函数
void Display_picture(unsigned char *p)
{
    unsigned char i,j,k;
	u16 lcdx=0x80,lcdy=0x80;//初始X坐标，Y坐标
	write_12864com(0x34);//开启扩充指令集
	for(i=0;i<2;i++)//分上下半屏写入
	{
	  	for(j=0;j<32;j++)
		  {
			write_12864com(lcdy+j);
			write_12864com(lcdx);
			for(k=0;k<16;k++)
          		write_12864data(*p++);//写入数据
		}
		lcdx=0x88;//换到下半屏X坐标
	}
	write_12864com(0x36);//显示GDRAM中的图片
	write_12864com(0x30);//开启基本指令集
}

//显示二维码
void Display_QRcode(void)
{
	Display_picture(QR_code);//显示二维码
}
